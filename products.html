<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>产品中心 - KaiwuDB</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/products.css">
</head>
<body>

    <!-- 导航栏占位符 -->
    <div id="navbar-placeholder"></div>

    <!-- 产品 Banner -->
    <section class="product-banner">
        <div class="banner-container">
            <div class="banner-content">
                <h1 class="banner-title">KaiwuDB 企业版</h1>
                <p class="banner-desc">KaiwuDB 是一款面向 AIoT 场景的分布式、多模融合、支持原生 AI 的数据库产品，为各行业客户伙伴提供一站式数据存储、管理与分析的基座</p>
                <div class="banner-actions">
                    <div class="banner-buttons">
                        <a href="register.html" class="btn btn-primary banner-btn">立即咨询</a>
                        <a href="community.html" class="btn btn-outline banner-btn-outline">软件下载</a>
                    </div>
                    <div class="banner-links">
                        <a href="docs/index.html" class="banner-link">产品文档 &gt;</a>
                        <a href="demo.html" class="banner-link">免费体验 &gt;</a>
                    </div>
                </div>
            </div>
            <div class="banner-visual">
                <div class="isometric-cubes">
                    <div class="cube cube-lg"></div>
                    <div class="cube cube-md"></div>
                    <div class="cube cube-sm"></div>
                </div>
            </div>
        </div>
    </section>
        
    <div class="banner-bottom-card">
        <div class="card-grid">
            <div class="card-item">
                    <div class="card-content">
                        <h3>新能源风电企业数据库替换建设</h3>
                        <a href="#" class="card-link-text">查看详情 &gt;&gt;</a>
                    </div>
                    <div class="card-arrow">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                    </div>
                </div>
                <div class="card-item">
                    <div class="card-content">
                        <h3>《XXXXX系统数据库升级路径与场景实践》</h3>
                        <a href="#" class="card-link-text">下载电子书 &gt;&gt;</a>
                    </div>
                    <div class="card-arrow">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                    </div>
                </div>
                <div class="card-item">
                    <div class="card-content">
                        <h3>KaiwuDB 实时分析能力白皮书</h3>
                        <a href="#" class="card-link-text">下载电子书 &gt;&gt;</a>
                    </div>
                    <div class="card-arrow">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 产品页主体 -->
    <div class="products-layout">
        <!-- 左侧导航 -->
        <aside class="products-sidebar">
            <nav class="sidebar-nav">
                <a href="#advantages" class="nav-item-vertical active" data-target="section-advantages">
                    <span class="nav-text">产品优势</span>
                </a>
                <a href="#comparison" class="nav-item-vertical" data-target="section-comparison">
                    <span class="nav-text">优势对比</span>
                </a>
                <a href="#features" class="nav-item-vertical" data-target="section-features">
                    <span class="nav-text">功能特性</span>
                </a>
                <a href="#more" class="nav-item-vertical" data-target="section-more">
                    <span class="nav-text">更多</span>
                </a>
                <a href="#docs" class="nav-item-vertical" data-target="section-docs">
                    <span class="nav-text">相关文档</span>
                </a>
            </nav>
        </aside>

        <!-- 右侧内容 -->
        <main class="products-content">
            <!-- 产品优势板块 -->
            <section id="section-advantages" class="product-section">
                <h2 class="section-heading">为什么选择 KaiwuDB</h2>
                
                <div class="advantages-grid">
                    <div class="advantage-card">
                        <div class="advantage-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-blue-600">
                                <path d="M21 12V7l-9-5-9 5v5a11 11 0 0 0 18 0z"></path>
                            </svg>
                        </div>
                        <div class="advantage-content">
                            <h3>30+遍布全球的可用区</h3>
                            <p>在全球30多个可用区上线云主机产品，覆盖五大洲，为您的全球化业务提供体验一致的高品质云计算服务</p>
                        </div>
                    </div>

                    <div class="advantage-card">
                        <div class="advantage-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-blue-600">
                                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
                            </svg>
                        </div>
                        <div class="advantage-content">
                            <h3>出色的性能表现</h3>
                            <p>最高支持Intel Cascadelake CPU，自研网络增强2.0技术、磁盘Binlog技术、全NVMe磁盘的RSSD云盘等，最高可实现120万IOPS的IO性能以及1000万PPS的网络性能</p>
                        </div>
                    </div>

                    <div class="advantage-card">
                        <div class="advantage-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-blue-600">
                                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                            </svg>
                        </div>
                        <div class="advantage-content">
                            <h3>稳定可靠的服务承诺</h3>
                            <p>99.95%的可用性承诺，支持内核热补丁技术，遭遇安全事件时可全平台在线升级，云主机无需重启</p>
                        </div>
                    </div>

                    <div class="advantage-card">
                        <div class="advantage-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-blue-600">
                                <path d="M12 2v20M2 12h20"></path>
                            </svg>
                        </div>
                        <div class="advantage-content">
                            <h3>分钟内完成快捷创建</h3>
                            <p>简化的主机创建步骤，以及自研Blockstreaming技术加持，云主机从创建到可访问分钟内实现</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 优势对比 -->
            <section id="section-comparison" class="product-section">
                <h2 class="section-heading">优势对比</h2>
                <p class="placeholder-text">优势对比内容正在建设中...</p>
            </section>

            <!-- 功能特性 -->
            <section id="section-features" class="product-section">
                <h2 class="section-heading">功能特性</h2>
                <p class="placeholder-text">功能特性内容正在建设中...</p>
            </section>

            <!-- 更多 -->
            <section id="section-more" class="product-section">
                <h2 class="section-heading">更多</h2>
                <p class="placeholder-text">更多内容正在建设中...</p>
            </section>

            <!-- 相关文档 -->
            <section id="section-docs" class="product-section">
                <h2 class="section-heading">相关文档</h2>
                <p class="placeholder-text">相关文档内容正在建设中...</p>
            </section>
        </main>
    </div>

    <!-- 底部操作区域 -->
    <section class="pre-footer-cta">
        <div class="cta-container">
            <h2 class="cta-title">准备好开启您的数据之旅了吗？</h2>
            <div class="cta-buttons">
                <a href="register.html" class="btn-cta-primary">立即咨询</a>
                <a href="community.html" class="btn-cta-secondary">免费试用</a>
            </div>
        </div>
    </section>

    <!-- 页脚 -->
    <footer class="footer" id="footer-placeholder">
        <!-- Footer will be loaded here via JS -->
    </footer>

    <!-- 悬浮咨询按钮 -->
    <a href="javascript:void(0)" class="float-consult-btn" aria-label="在线咨询">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
        </svg>
        <span>在线咨询</span>
    </a>

    <script src="js/main.js"></script>
    <script>
        // 平铺布局的滚动监听与平滑跳转
        document.addEventListener('DOMContentLoaded', () => {
            const navItems = document.querySelectorAll('.nav-item-vertical');
            const sections = document.querySelectorAll('.product-section');
            
            // 1. 点击导航平滑滚动
            navItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = item.getAttribute('href').substring(1); // remove #
                    // 根据 href 找到对应的 section，这里 href 是 #advantages，但 section id 是 section-advantages
                    // 或者我们统一一下，href 直接对应 section id
                    // 查看 HTML 发现 href="#advantages", id="section-advantages"
                    // 我们可以通过 data-target 获取更准确
                    const targetSectionId = item.getAttribute('data-target');
                    const targetSection = document.getElementById(targetSectionId);
                    
                    if (targetSection) {
                        // 手动平滑滚动，考虑到 sticky header 的偏移
                        // CSS scroll-margin-top 已经处理了偏移，所以直接 scrollIntoView 即可
                        targetSection.scrollIntoView({
                            behavior: 'smooth'
                        });
                        
                        // 更新 URL hash，不触发跳转
                        history.pushState(null, null, `#${targetId}`);
                        
                        // 立即更新高亮
                        updateActiveNav(targetSectionId);
                    }
                });
            });

            // 2. 滚动监听更新高亮
            // 使用 IntersectionObserver 还是 scroll 事件？
            // scroll 事件更实时，配合防抖
            
            let isScrolling = false;
            
            window.addEventListener('scroll', () => {
                if (!isScrolling) {
                    window.requestAnimationFrame(() => {
                        highlightNavOnScroll();
                        isScrolling = false;
                    });
                    isScrolling = true;
                }
            });

            function highlightNavOnScroll() {
                let currentSectionId = '';
                
                // 找到当前视口中最靠上的 section
                sections.forEach(section => {
                    const rect = section.getBoundingClientRect();
                    // 如果 section 的顶部在视口中部以上，或者 section 占据了视口大部分
                    // 简单的逻辑：section top 小于视口高度的 1/3
                    if (rect.top <= window.innerHeight / 3) {
                        currentSectionId = section.id;
                    }
                });

                if (currentSectionId) {
                    updateActiveNav(currentSectionId);
                } else if (window.scrollY < 100) {
                     // 顶部时默认第一个
                     if (sections.length > 0) {
                         updateActiveNav(sections[0].id);
                     }
                }
            }

            function updateActiveNav(sectionId) {
                navItems.forEach(item => {
                    if (item.getAttribute('data-target') === sectionId) {
                        item.classList.add('active');
                    } else {
                        item.classList.remove('active');
                    }
                });
            }
            
            // 初始化高亮
            highlightNavOnScroll();
        });
    </script>
</body>
</html>
